function recaptchaCallBack(){var a=$('[data-quasiform="recaptcha"][data-sitekey][id]');$.each(a,function(a,e){var r={sitekey:null};void 0!==$(e).attr("data-sitekey")?r.sitekey=$(e).attr("data-sitekey"):console.log("sitekey is undefined"),grecaptcha.render($(e).attr("id"),r)})}$.fn.quasiform=function(a){$.fn.quasiform.options=$.extend({debug:!1,format:"json",formSelector:null,errorOpenTag:"<li>",errorCloseTag:"</li>",errorsOpenTag:"<ul>",errorsCloseTag:"</ul>",fieldErrorOpenTag:"<li>",fieldErrorCloseTag:"</li>",fieldErrorsOpenTag:"<ul>",fieldErrorsCloseTag:"</ul>",messageOpenTag:"<li>",messageCloseTag:"</li>",messagesOpenTag:"<ul>",messagesCloseTag:"</ul>",hideFormOnSuccess:!1,hasErrorInputClass:"quasiform__form-input--has-error",hasErrorLabelClass:"quasiform__form-label--has-error",callbackOnSuccess:null,callbackOnFail:null,callbackOnError:null,callbackOnComplete:null,callbackBeforeSend:null,callbackOnAgree:null,callbackOnDisagree:null,callbackOnStarsChange:null},a);var e=$(this),r=null,a=$.fn.quasiform.options,n='[data-quasiform="agreement"]',s='button[type="submit"]',l=e.find(n).slice(0,1),t=e.find(s).slice(0,1);1==l.length&&1==t.length&&(l.is(":checked")?t.removeAttr("disabled"):t.attr("disabled","disabled")),1==l.length&&e.on("change",n,function(r){var n=e.find(s).slice(0,1);1==n.length&&($(this).is(":checked")?(n.removeAttr("disabled"),"callbackOnAgree"in a&&"function"==typeof a.callbackOnAgree&&a.callbackOnAgree(e)):(n.attr("disabled","disabled"),"callbackOnDisagree"in a&&"function"==typeof a.callbackOnDisagree&&a.callbackOnDisagree(e)))});var o=$(e).find('input[type="checkbox"]');if($(o).each(function(a,r){var n=$(r),s=n.attr("name"),l=n.is(":checked"),t=$(e).find('[data-quasiform="checkbox"][data-name="'+s+'"]');if(1==t.length){var o=t.attr("data-quasiform-checkbox-off");l?t.removeClass(o):t.addClass(o),$(n).on("change",function(a){n.is(":checked")?t.removeClass(o):t.addClass(o)})}}),a.formSelector)var i=$(e).find(a.formSelector).slice(0,1);else var i=$(e).find("form").slice(0,1);if(1==i.length){var c=$(i).find('textarea[data-quasiform="autoheight"]');$.each(c,function(a){$(c).on("input",function(a){var e=$(this);e.css("height","5px"),e.css("height",e.prop("scrollHeight")+2+"px")})});var d=$(e).find('[data-quasiform="stars"]'),f=$(e).find('input[name="stars"]');if(1==d.length&&f.length>0){var u="[data-value]",g=$(d).find("[data-value]"),m="quasiform-star--active",h=parseInt(f.val());$(d).find(u+"[data-value]").removeClass(m);var p=0;for(p=1;p<=h;p++)$(d).find('[data-value="'+p+'"]').addClass(m);$(g).hover(function(a){var e=$(this),r=e.parent(),n=parseInt(e.attr("data-value"));$(r).find("[data-value]").removeClass(m);var s=0;for(s=1;s<=n;s++)$(r).find('[data-value="'+s+'"]').addClass(m)}),$(g).click(function(r){var n=$(this),s=parseInt(n.attr("data-value"));s!=f.val()&&(f.val(s),"callbackOnStarsChange"in a&&"function"==typeof a.callbackOnStarsChange&&a.callbackOnStarsChange(e)),r.preventDefault()}),$(f).change(function(r){var n=parseInt(f.val());$(d).find(u+"[data-value]").removeClass(m);var s=0;for(s=1;s<=n;s++)$(d).find('[data-value="'+s+'"]').addClass(m);"callbackOnStarsChange"in a&&"function"==typeof a.callbackOnStarsChange&&a.callbackOnStarsChange(e)}),$(d).mouseout(function(a){$(d).find("[data-value]").removeClass(m);var e=parseInt(f.val());if(e>0){var r=0;for(r=1;r<=e;r++)$(d).find('[data-value="'+r+'"]').addClass(m)}})}var v=$(i).find('[data-quasiform="spinner"]');v.length>0&&$(v).each(function(a,e){var r=$(e),n=$(r).find('[data-quasiform="spinner__increase"]');$(n).on("click",function(a){var e=$(this),r=$(e).parent(),n=(parseInt($(r).attr("data-min")),parseInt($(r).attr("data-max"))),s=$(r).find("input"),l=parseInt($(s).val()),t=parseInt($(r).attr("data-one")),o=1,i=l+t*o;i<=n&&$(s).val(i)});var s=$(r).find('[data-quasiform="spinner__decrease"]');$(s).on("click",function(a){var e=$(this),r=$(e).parent(),n=parseInt($(r).attr("data-min")),s=(parseInt($(r).attr("data-max")),$(r).find("input")),l=parseInt($(s).val()),t=parseInt($(r).attr("data-one")),o=-1,i=l+t*o;i>=n&&$(s).val(i)})}),$(i).on("submit",function(n){var l='[data-quasiform="messages"]',t='[data-quasiform="errors"]',o='[data-quasiform="loader"]';e.find(t).hide(),e.find(l).hide();var c=$(i)[0],d=new FormData(c),f=$(i).attr("action"),u=$(i).attr("method");i.find(s).attr("disabled","disabled"),e.find(o).show(),r=null,"callbackBeforeSend"in a&&"function"==typeof a.callbackBeforeSend&&a.callbackBeforeSend(e),$.ajax({contentType:!1,processData:!1,data:d,dataType:a.format,type:u,url:f,complete:function(){"callbackOnComplete"in a&&"function"==typeof a.callbackOnComplete&&a.callbackOnComplete(e),e.find(o).hide(),i.find(s).removeAttr("disabled")},error:function(r,n,s){404==r.status?console.log("Ресурс "+f+" не найден"):500==r.status?console.log("Ошибка 500"):200==r.status?(console.log("Статус 200"),console.log("Невалидный JSON")):console.log("Ошибка "+r.status),"callbackOnError"in a&&"function"==typeof a.callbackOnError&&a.callbackOnError(e)},success:function(r,n){if("json"==a.format&&"object"==typeof r&&null!==r){if(e.responseData=r,"errors"in r&&$.isArray(r.errors)&&r.errors.length>0){var s="";for(p=0;p<r.errors.length;p++)r.errors[p].length>0&&(s+=a.errorOpenTag+r.errors[p]+a.errorCloseTag);s=a.errorsOpenTag+s+a.errorsCloseTag,e.find(t).html(s).fadeIn(10)}if("messages"in r&&$.isArray(r.messages)&&r.messages.length>0){var o="";for(p=0;p<r.messages.length;p++)r.messages[p].length>0&&(o+=a.messageOpenTag+r.messages[p]+a.messageCloseTag);o=a.messagesOpenTag+o+a.messagesCloseTag,e.find(l).html(o).fadeIn(10)}if("field_errors"in r&&"object"==typeof r.field_errors&&null!==r.field_errors){var c;for(c in r.field_errors)if(e.find('input[name="'+c+'"]').addClass(a.hasErrorInputClass),e.find('textarea[name="'+c+'"]').addClass(a.hasErrorInputClass),e.find('label[for="'+c+'"]').addClass(a.hasErrorLabelClass),r.field_errors[c].length>0){var d="";for(p=0;p<r.field_errors[c].length;p++)d+=a.fieldErrorOpenTag+r.field_errors[c][p]+a.fieldErrorCloseTag;d=a.fieldErrorsOpenTag+s+a.fieldErrorsCloseTag,$('[data-quasiform-field-errors="'+c+'"]').html(d).fadeIn(10)}}a.hideFormOnSuccess&&"success"in r&&r.success&&i.hide(),"success"in r?r.success?"callbackOnSuccess"in a&&"function"==typeof a.callbackOnSuccess&&a.callbackOnSuccess(e):"callbackOnFail"in a&&"function"==typeof a.callbackOnFail&&a.callbackOnFail(e):a.debug&&console.log("Ответ сервера не содержит поле success")}else"html"==a.format&&"string"==typeof r?e.find('[data-quasiform="html"]').html(r).fadeIn(10):a.debug&&console.log("Ответ сервера имеет неверный формат")}}),n.preventDefault()})}else console.log("Form not found");return this};