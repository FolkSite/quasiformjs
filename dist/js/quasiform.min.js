function recaptchaCallBack(){var a=$('[data-quasiform="recaptcha"][data-sitekey][id]');$.each(a,function(a,e){var s={};void 0!==$(e).attr("data-sitekey")&&(s.sitekey=$(e).attr("data-sitekey")),grecaptcha.render($(e).attr("id"),s)})}$.fn.quasiform=function(a){$.fn.quasiform.options=$.extend({debug:!1,formSelector:null,errorOpenTag:"<li>",errorCloseTag:"</li>",errorsOpenTag:"<ul>",errorsCloseTag:"</ul>",messageOpenTag:"<li>",messageCloseTag:"</li>",messagesOpenTag:"<ul>",messagesCloseTag:"</ul>",hideFormOnSuccess:!1,hasErrorInputClass:"quasiform__form-input--has-error",hasErrorLabelClass:"quasiform__form-label--has-error",callbackOnSuccess:null,callbackOnFail:null,callbackOnError:null,callbackOnComplete:null,callbackBeforeSend:null,callbackOnAgree:null,callbackOnDisagree:null},a);var e=$(this),s=null,r='[data-quasiform="agreement"]',n='button[type="submit"]',o=e.find(r).slice(0,1),l=e.find(n).slice(0,1);if(1==o.length&&1==l.length&&(o.is(":checked")?l.removeAttr("disabled"):l.attr("disabled",!0)),1==o.length&&e.on("change",r,function(s){var r=e.find(n).slice(0,1);1==r.length&&($(this).is(":checked")?(r.removeAttr("disabled"),"callbackOnAgree"in a&&"function"==typeof a.callbackOnAgree&&a.callbackOnAgree(e)):(r.attr("disabled",!0),"callbackOnDisagree"in a&&"function"==typeof a.callbackOnDisagree&&a.callbackOnDisagree(e)))}),$.fn.quasiform.options.formSelector)var t=$(e).find($.fn.quasiform.options.formSelector).slice(0,1);else var t=$(e).find("form").slice(0,1);if(1===t.length){var i=$(t).find('textarea[data-quasiform="autoheight"]');$.each(i,function(a){$(i).on("input",function(a){var e=$(this);e.css("height","5px"),e.css("height",e.prop("scrollHeight")+2+"px")})}),$(t).on("submit",function(r){var o='[data-quasiform="messages"]',l='[data-quasiform="errors"]',i='[data-quasiform="loader"]',c=new FormData($(t)[0]),f=$(t).attr("action"),d=$(t).attr("method");t.find(n).attr("disabled",!0),e.find(i).show(),s=null,"callbackBeforeSend"in a&&"function"==typeof a.callbackBeforeSend&&a.callbackBeforeSend(e),$.ajax({contentType:!1,processData:!1,data:c,dataType:"json",type:d,url:f,complete:function(){"callbackOnComplete"in a&&"function"==typeof a.callbackOnComplete&&a.callbackOnComplete(e),e.find(i).hide(),t.find(n).removeAttr("disabled")},error:function(s,r,n){404==s.status?console.log("Ресурс "+f+" не найден"):500==s.status?console.log("Ошибка 500"):200==s.status?(console.log("Статус 200"),console.log("Невалидный JSON")):console.log("Ошибка "+s.status),"callbackOnError"in a&&"function"==typeof a.callbackOnError&&a.callbackOnError(e)},success:function(s,r){if("object"==typeof s&&null!==s){if(e.responseData=s,e.find(l).hide(),"errors"in s&&$.isArray(s.errors)&&s.errors.length>0){var n="";for(p=0;p<s.errors.length;p++)s.errors[p].length>0&&(n+=$.fn.quasiform.options.errorOpenTag+s.errors[p]+$.fn.quasiform.options.errorCloseTag);n=$.fn.quasiform.options.errorsOpenTag+n+$.fn.quasiform.options.errorsCloseTag,e.find(l).html(n).show()}if(e.find(o).hide(),"messages"in s&&$.isArray(s.messages)&&s.messages.length>0){var i="";for(p=0;p<s.messages.length;p++)s.messages[p].length>0&&(i+=$.fn.quasiform.options.messageOpenTag+s.messages[p]+$.fn.quasiform.options.messageCloseTag);i=$.fn.quasiform.options.messagesOpenTag+i+$.fn.quasiform.options.messagesCloseTag,e.find(o).html(i).show()}if("field_errors"in s&&"object"==typeof s.field_errors&&null!==s.field_errors)for(fieldName in s.field_errors)e.find('input[name="'+fieldName+'"]').addClass(a.hasErrorInputClass),e.find('textarea[name="'+fieldName+'"]').addClass(a.hasErrorInputClass),e.find('label[for="'+fieldName+'"]').addClass(a.hasErrorLabelClass);$.fn.quasiform.options.hideFormOnSuccess&&"success"in s&&s.success&&t.hide(),"success"in s?s.success?"callbackOnSuccess"in a&&"function"==typeof a.callbackOnSuccess&&a.callbackOnSuccess(e):"callbackOnFail"in a&&"function"==typeof a.callbackOnFail&&a.callbackOnFail(e):a.debug&&console.log("Ответ сервера не содержит поле success")}else a.debug&&console.log("Ответ сервера имеет неверный формат")}}),r.preventDefault()})}var c=$(e).find('[data-quasiform="checkbox"]');$.each(c,function(a,s){var r=$(s),n=r.attr("data-name"),o=r.attr("data-quasiform-checkbox-off"),l=$(e).find('input[type="checkbox"][name="'+n+'"]');l.length>0&&(l.is(":checked")?r.removeClass(o):r.addClass(o),$(checkbox).click(function(a){l.is(":checked")?r.removeClass(o):r.addClass(o)}))});var f=$(e).find('[data-quasiform="stars"]'),d=$(e).find('input[name="stars"]');if(1==f.length&&d.length>0){var u=$(f).find("[data-value]"),m="quasiform-star--active",g=parseInt(d.val());$(f).find("[data-value]"+"[data-value]").removeClass(m);var p=0;for(p=1;p<=g;p++)$(f).find('[data-value="'+p+'"]').addClass(m);$(u).hover(function(a){var e=$(this),s=e.parent(),r=parseInt(e.attr("data-value"));$(s).find("[data-value]").removeClass(m);var n=0;for(n=1;n<=r;n++)$(s).find('[data-value="'+n+'"]').addClass(m)}),$(u).click(function(a){var e=$(this),s=parseInt(e.attr("data-value"));d.val(s),a.preventDefault()}),$(f).mouseout(function(a){$(f).find("[data-value]").removeClass(m);var e=parseInt(d.val());if(e>0){var s=0;for(s=1;s<=e;s++)$(f).find('[data-value="'+s+'"]').addClass(m)}})}return this};