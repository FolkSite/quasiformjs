function recaptchaCallBack(){var e=$('[data-quasiform="recaptcha"][data-sitekey][id]');$.each(e,function(e,a){var s={};void 0!==$(a).attr("data-sitekey")&&(s.sitekey=$(a).attr("data-sitekey")),grecaptcha.render($(a).attr("id"),s)})}$.fn.quasiform=function(e){$.fn.quasiform.options=$.extend({debug:!1,formSelector:null,errorOpenTag:"<li>",errorCloseTag:"</li>",errorsOpenTag:"<ul>",errorsCloseTag:"</ul>",messageOpenTag:"<li>",messageCloseTag:"</li>",messagesOpenTag:"<ul>",messagesCloseTag:"</ul>",hideFormOnSuccess:!1,hasErrorInputClass:"quasiform__form-input--has-error",hasErrorLabelClass:"quasiform__form-label--has-error",callbackOnSuccess:null,callbackOnFail:null,callbackOnError:null,callbackOnComplete:null,callbackBeforeSend:null},e);var a=$(this),s=null,r='[data-quasiform="agreement"]',o='button[type="submit"]',n=a.find(r).slice(0,1),l=a.find(o).slice(0,1);if(1==n.length&&1==l.length&&(n.is(":checked")?l.removeAttr("disabled"):l.attr("disabled",!0)),1==n.length&&a.on("change",r,function(e){var s=a.find(o).slice(0,1);1==s.length&&($(this).is(":checked")?s.removeAttr("disabled"):s.attr("disabled",!0))}),$.fn.quasiform.options.formSelector)var t=$(a).find($.fn.quasiform.options.formSelector).slice(0,1);else var t=$(a).find("form").slice(0,1);1===t.length&&$(t).on("submit",function(r){var n='[data-quasiform="messages"]',l='[data-quasiform="errors"]',c='[data-quasiform="loader"]',f=new FormData($(t)[0]),d=$(t).attr("action"),u=$(t).attr("method");t.find(o).attr("disabled",!0),a.find(c).show(),s=null,"callbackBeforeSend"in e&&"function"==typeof e.callbackBeforeSend&&e.callbackBeforeSend(a),$.ajax({contentType:!1,processData:!1,data:f,dataType:"json",type:u,url:d,complete:function(){"callbackOnComplete"in e&&"function"==typeof e.callbackOnComplete&&e.callbackOnComplete(a),a.find(c).hide(),t.find(o).removeAttr("disabled")},error:function(s,r,o){404==s.status?console.log("Ресурс "+d+" не найден"):500==s.status?console.log("Ошибка 500"):200==s.status?(console.log("Статус 200"),console.log("Невалидный JSON")):console.log("Ошибка "+s.status),"callbackOnError"in e&&"function"==typeof e.callbackOnError&&e.callbackOnError(a)},success:function(s,r){if("object"==typeof s&&null!==s){if(a.responseData=s,a.find(l).hide(),"errors"in s&&$.isArray(s.errors)&&s.errors.length>0){var o="";for(i=0;i<s.errors.length;i++)s.errors[i].length>0&&(o+=$.fn.quasiform.options.errorOpenTag+s.errors[i]+$.fn.quasiform.options.errorCloseTag);o=$.fn.quasiform.options.errorsOpenTag+o+$.fn.quasiform.options.errorsCloseTag,a.find(l).html(o).show()}if(a.find(n).hide(),"messages"in s&&$.isArray(s.messages)&&s.messages.length>0){var c="";for(i=0;i<s.messages.length;i++)s.messages[i].length>0&&(c+=$.fn.quasiform.options.messageOpenTag+s.messages[i]+$.fn.quasiform.options.messageCloseTag);c=$.fn.quasiform.options.messagesOpenTag+c+$.fn.quasiform.options.messagesCloseTag,a.find(n).html(c).show()}if("field_errors"in s&&"object"==typeof s.field_errors&&null!==s.field_errors)for(fieldName in s.field_errors)a.find('input[name="'+fieldName+'"]').addClass(e.hasErrorInputClass),a.find('textarea[name="'+fieldName+'"]').addClass(e.hasErrorInputClass),a.find('label[for="'+fieldName+'"]').addClass(e.hasErrorLabelClass);$.fn.quasiform.options.hideFormOnSuccess&&"success"in s&&s.success&&t.hide(),"success"in s?s.success?"callbackOnSuccess"in e&&"function"==typeof e.callbackOnSuccess&&e.callbackOnSuccess(a):"callbackOnFail"in e&&"function"==typeof e.callbackOnFail&&e.callbackOnFail(a):e.debug&&console.log("Ответ сервера не содержит поле success")}else e.debug&&console.log("Ответ сервера имеет неверный формат")}}),r.preventDefault()});var c=$(a).find('[data-quasiform="stars"]');if(1==c.length){var f="[data-value]",d=$(c).find("[data-value]"),u="quasiform-star--active";$(d).hover(function(e){console.log("hover");var a=$(this),s=a.parent(),r=parseInt(a.attr("data-value"));s.find(f+"[data-value]").removeClass(u);var o=0;for(o=1;o<=r;o++)s.find(f+'[data-value="'+o+'"]').addClass(u)}),$(d).click(function(e){console.log("click");var a=$(this),s=t.find('input[name="stars"]'),r=parseInt(a.attr("data-value"));s.val(r),e.preventDefault()}),$(c).mouseout(function(e){console.log("mouseout");var a=t.find('input[name="stars"]');c.find(f+"[data-value]").removeClass(u);var s=parseInt(a.val());if(s>0){var r=0;for(r=1;r<=s;r++)c.find(f+'[data-value="'+r+'"]').addClass(u)}})}return this};