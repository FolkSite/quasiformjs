{"version":3,"sources":["webpack:///webpack/bootstrap 17b003a4aa982a00fecf","webpack:///./test/main.js","webpack:///./~/whatwg-fetch/fetch.js","webpack:///./src/js/quasiform.js"],"names":["initForms","optionsNotExists","selector","hideFormOnSuccess","quasiformNotExists","optionsSpinner","quasiformSpinner","optionsPost","debug","format","hasErrorInputClass","hasErrorLabelClass","callbackOnSuccess","wrapper","console","log","callbackOnFail","callbackOnError","callbackBeforeSend","callbackOnComplete","quasiformPost","optionsSuccess","quasiformSuccess","optionsFail","quasiformFail","optionsStars","callbackOnStarsChange","quasiformStars","optionsCheckbox","callbackOnAgree","callbackOnDisagree","quasiformCheckbox","optionsHtml","quasiformHtml","document","readyState","addEventListener","self","fetch","support","searchParams","iterable","Symbol","blob","Blob","e","formData","arrayBuffer","viewClasses","isDataView","obj","DataView","prototype","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","indexOf","Object","toString","call","normalizeName","name","String","test","TypeError","toLowerCase","normalizeValue","value","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","map","forEach","append","Array","isArray","header","getOwnPropertyNames","oldValue","get","has","hasOwnProperty","set","callback","thisArg","keys","push","values","entries","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","chars","length","i","fromCharCode","join","bufferClone","slice","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","Error","type","rejected","then","text","decode","json","JSON","parse","methods","normalizeMethod","method","upcased","toUpperCase","Request","input","options","url","credentials","mode","referrer","clone","form","trim","split","bytes","replace","decodeURIComponent","parseHeaders","rawHeaders","line","parts","key","Response","bodyInit","status","ok","statusText","response","redirectStatuses","redirect","RangeError","location","init","request","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader","send","polyfill","recaptchaCallBack","recaptches","$","each","index","recaptcha","recaptchaOptions","sitekey","getAttribute","grecaptcha","render","quasiform","args","instance","defaults","formSelector","errorOpenTag","errorCloseTag","errorsOpenTag","errorsCloseTag","fieldErrorOpenTag","fieldErrorCloseTag","fieldErrorsOpenTag","fieldErrorsCloseTag","messageOpenTag","messageCloseTag","messagesOpenTag","messagesCloseTag","responseData","extendDefaults","querySelector","checkboxAgreeSelector","submitSelector","checkboxAgree","button","checked","removeAttribute","setAttribute","checkboxes","querySelectorAll","checkbox","idx","customCheckbox","classOff","classList","remove","add","textareas","textarea","style","height","scrollHeight","starsWrapper","field","starSelector","stars","starClassActive","parseInt","star","l","valueOld","spinners","spinner","decrease","min","max","step","k","valueNew","increase","initCustomFileInput","preventDefault","messagesWrapperSelector","errorsWrapperSelector","loaderSelector","display","formAction","formMethod","data","errors","errorsList","innerHTML","messages","messagesList","field_errors","fieldName","label","fieldErrorsList","errorLabel","success","htmlView","catch","err","id","source","properties","property","inputWrapper","span","fileName","files","target","pop"],"mappings":"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","file":"bundle.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 17b003a4aa982a00fecf","import 'whatwg-fetch';\r\nimport quasiform from '../src/js/quasiform.js';\r\n\r\nfunction initForms() {\r\n    /**\r\n     * Form does not exists\r\n     */\r\n    var optionsNotExists = {\r\n        selector: '#ne',\r\n        hideFormOnSuccess: false,\r\n    };\r\n    var quasiformNotExists = new quasiform(optionsNotExists);\r\n    \r\n    /**\r\n     * Spinner\r\n     */\r\n    var optionsSpinner = {\r\n        selector: '#spinner',\r\n        hideFormOnSuccess: false,\r\n    };\r\n    var quasiformSpinner = new quasiform(optionsSpinner);\r\n    \r\n    /**\r\n     * Нулевая форма\r\n     */\r\n    var optionsPost = {\r\n        selector: '#post',\r\n        debug: true,\r\n        format: 'html',\r\n        hasErrorInputClass: 'quasiform-form__input--has-error',\r\n        hasErrorLabelClass: 'quasiform-form__label--has-error',\r\n        hideFormOnSuccess: false,\r\n        callbackOnSuccess: function callbackOnSuccess(wrapper) {\r\n            console.log('callbackOnSuccess');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackOnFail: function callbackOnFail(wrapper) {\r\n            console.log('callbackOnFail');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackOnError: function callbackOnError(wrapper) {\r\n            console.log('callbackOnError');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackBeforeSend: function callbackBeforeSend(wrapper) {\r\n            console.log('callbackBeforeSend');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackOnComplete: function callbackOnComplete(wrapper) {\r\n            console.log('callbackOnComplete');\r\n            //console.debug(wrapper);\r\n        },\r\n    };\r\n    var quasiformPost = new quasiform(optionsPost);\r\n\r\n    /**\r\n     * Первая форма\r\n     */\r\n    var optionsSuccess = {\r\n        selector: '#success',\r\n        debug: true,\r\n        hasErrorInputClass: 'quasiform-form__input--has-error',\r\n        hasErrorLabelClass: 'quasiform-form__label--has-error',\r\n        hideFormOnSuccess: false,\r\n        callbackOnSuccess: function callbackOnSuccess(wrapper) {\r\n            console.log('callbackOnSuccess');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackOnFail: function callbackOnFail(wrapper) {\r\n            console.log('callbackOnFail');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackOnError: function callbackOnError(wrapper) {\r\n            console.log('callbackOnError');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackBeforeSend: function callbackBeforeSend(wrapper) {\r\n            console.log('callbackBeforeSend');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackOnComplete: function callbackOnComplete(wrapper) {\r\n            console.log('callbackOnComplete');\r\n            //console.debug(wrapper);\r\n        },\r\n    };\r\n    var quasiformSuccess = new quasiform(optionsSuccess);\r\n\r\n    /**\r\n     * Вторая форма\r\n     */\r\n    var optionsFail = {\r\n        selector: '#fail',\r\n        debug: true,\r\n        hasErrorInputClass: 'quasiform-form__input--has-error',\r\n        hasErrorLabelClass: 'quasiform-form__label--has-error',\r\n        hideFormOnSuccess: false,\r\n        callbackOnSuccess: function callbackOnSuccess(wrapper) {\r\n            console.log('callbackOnSuccess');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackOnFail: function callbackOnFail(wrapper) {\r\n            console.log('callbackOnFail');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackOnError: function callbackOnError(wrapper) {\r\n            console.log('callbackOnError');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackBeforeSend: function callbackBeforeSend(wrapper) {\r\n            console.log('callbackBeforeSend');\r\n            //console.debug(wrapper);\r\n        },\r\n        callbackOnComplete: function callbackOnComplete(wrapper) {\r\n            console.log('callbackOnComplete');\r\n            //console.debug(wrapper);\r\n        },\r\n    };\r\n    var quasiformFail = new quasiform(optionsFail);\r\n\r\n    /**\r\n     * Звёзды\r\n     */\r\n    var optionsStars = {\r\n        selector: '#stars',\r\n        debug: true,\r\n        hideFormOnSuccess: false,\r\n        callbackOnStarsChange: function callbackOnStarsChange(wrapper) {\r\n            console.log('callbackOnStarsChange');\r\n        }\r\n    };\r\n    var quasiformStars = new quasiform(optionsStars);\r\n\r\n    /**\r\n     * Чекбокс\r\n     */\r\n    var optionsCheckbox = {\r\n        selector: '#checkbox',\r\n        debug: true,\r\n        hideFormOnSuccess: false,\r\n        callbackOnAgree: function callbackOnAgree(wrapper) {\r\n            console.log('agree');\r\n        },\r\n        callbackOnDisagree: function callbackOnDisagree(wrapper) {\r\n            console.log('disagree');\r\n        }\r\n    };\r\n    var quasiformCheckbox = new quasiform(optionsCheckbox);\r\n    \r\n    /**\r\n     * HTML-ответ\r\n     */\r\n    var optionsHtml = {\r\n        selector: '#html',\r\n        debug: true,\r\n        format: 'html',\r\n        hideFormOnSuccess: false,\r\n        callbackOnAgree: function callbackOnAgree(wrapper) {\r\n            console.log('agree');\r\n        },\r\n        callbackOnDisagree: function callbackOnDisagree(wrapper) {\r\n            console.log('disagree');\r\n        }\r\n    };\r\n    var quasiformHtml = new quasiform(optionsHtml);\r\n}\r\n\r\nif (document.readyState === 'complete' || document.readyState !== 'loading') {\r\n    initForms();\r\n} else {\r\n    document.addEventListener('DOMContentLoaded', initForms);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./test/main.js","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n// WEBPACK FOOTER //\n// ./~/whatwg-fetch/fetch.js","'use strict';\r\n\r\n/**\r\n * @author https://quasi-art.ru\r\n * @date 30.12.2014-07.02.2017\r\n * @license GPLv2\r\n */\r\n\r\nfunction recaptchaCallBack() {\r\n    var recaptches = $('[data-quasiform=\"recaptcha\"][data-sitekey][id]');\r\n    $.each(recaptches, function(index, recaptcha) {\r\n        var recaptchaOptions = {\r\n            sitekey: null,\r\n        };\r\n        var sitekey = $(recaptcha).getAttribute('data-sitekey');\r\n        if (sitekey !== undefined) {\r\n            recaptchaOptions.sitekey = $(recaptcha).getAttribute('data-sitekey');\r\n        } else {\r\n            console.log('sitekey is undefined');\r\n        }\r\n        grecaptcha.render($(recaptcha).getAttribute('id'), recaptchaOptions);\r\n    });\r\n}\r\n\r\nexport default class quasiform {\r\n    constructor(args) {\r\n        let instance = this;\r\n        this.defaults = {\r\n            debug: false,\r\n            format: 'json',\r\n            formSelector: null,\r\n            errorOpenTag: '<li>',\r\n            errorCloseTag: '</li>',\r\n            errorsOpenTag: '<ul>',\r\n            errorsCloseTag: '</ul>',\r\n            fieldErrorOpenTag: '<li>',\r\n            fieldErrorCloseTag: '</li>',\r\n            fieldErrorsOpenTag: '<ul>',\r\n            fieldErrorsCloseTag: '</ul>',\r\n            messageOpenTag: '<li>',\r\n            messageCloseTag: '</li>',\r\n            messagesOpenTag: '<ul>',\r\n            messagesCloseTag: '</ul>',\r\n            hideFormOnSuccess: false,\r\n            hasErrorInputClass: 'quasiform__form-input--has-error',\r\n            hasErrorLabelClass: 'quasiform__form-label--has-error',\r\n            callbackOnSuccess: null,\r\n            callbackOnFail: null,\r\n            callbackOnError: null,\r\n            callbackOnComplete: null,\r\n            callbackBeforeSend: null,\r\n            callbackOnAgree: null,\r\n            callbackOnDisagree: null,\r\n            callbackOnStarsChange: null,\r\n            selector: '',\r\n        };\r\n        this.options = {};\r\n        this.wrapper = null;\r\n        this.form = null;\r\n        this.responseData = null;\r\n        this.options = this.extendDefaults(this.defaults, args || {});\r\n        this.wrapper = document.querySelector(this.options.selector);\r\n        if (typeof this.wrapper !== 'object' || this.wrapper === null) {\r\n            return false;\r\n        }\r\n\r\n        var checkboxAgreeSelector = '[data-quasiform=\"agreement\"]';\r\n        var submitSelector = 'button[type=\"submit\"]';\r\n        var checkboxAgree = this.wrapper.querySelector(checkboxAgreeSelector);\r\n        let button = this.wrapper.querySelector(submitSelector);\r\n        /**\r\n         * Если флажок установлен, то у кнопки отправки формы удаляется атрибут disabled.\r\n         */\r\n        if (checkboxAgree !== null && button !== null) {\r\n            if (checkboxAgree.checked) {\r\n                button.removeAttribute('disabled');\r\n            } else {\r\n                button.setAttribute('disabled', 'disabled');\r\n            }\r\n        }\r\n        if (checkboxAgree !== null && typeof checkboxAgree == 'object') {\r\n            checkboxAgree.addEventListener('change', function(e) {\r\n                let button = instance.wrapper.querySelector(submitSelector);\r\n                if (button !== null && typeof button == 'object') {\r\n                    if (checkboxAgree.checked) {\r\n                        button.removeAttribute('disabled');\r\n                        if ('callbackOnAgree' in instance.options && typeof instance.options.callbackOnAgree == 'function') {\r\n                            instance.options.callbackOnAgree(instance.wrapper);\r\n                        }\r\n                    } else {\r\n                        button.setAttribute('disabled', 'disabled');\r\n                        if ('callbackOnDisagree' in instance.options && typeof instance.options.callbackOnDisagree == 'function') {\r\n                            instance.options.callbackOnDisagree(instance.wrapper);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Custom checkbox\r\n         */\r\n        var checkboxes = this.wrapper.querySelectorAll('input[type=\"checkbox\"]');\r\n        if (checkboxes.length > 0) {\r\n            [].forEach.call(checkboxes, function(checkbox, idx) {\r\n                var name = checkbox.getAttribute('name');\r\n                var checked = checkbox.checked;\r\n                var customCheckbox = instance.wrapper.querySelector('[data-quasiform=\"checkbox\"][data-name=\"' + name + '\"]');\r\n                if (customCheckbox !== null) {\r\n                    var classOff = customCheckbox.getAttribute('data-quasiform-checkbox-off');\r\n                    if (checked) {\r\n                        customCheckbox.classList.remove(classOff);\r\n                    } else {\r\n                        customCheckbox.classList.add(classOff);\r\n                    }\r\n                    checkbox.addEventListener('change', function() {\r\n                        var checked = checkbox.checked;\r\n                        if (checked) {\r\n                            customCheckbox.classList.remove(classOff);\r\n                        } else {\r\n                            customCheckbox.classList.add(classOff);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        if (this.options.formSelector) {\r\n            this.form = this.wrapper.querySelector(instance.options.formSelector);\r\n        } else {\r\n            this.form = this.wrapper.querySelector('form');\r\n        }\r\n\r\n        if (this.form !== null && typeof this.form == 'object') {\r\n            /**\r\n             * Textarea Autoheight\r\n             */\r\n            var textareas = this.wrapper.querySelectorAll('textarea[data-quasiform=\"autoheight\"]');\r\n            if (textareas.length > 0) {\r\n                [].forEach.call(textareas, function(textarea, idx) {\r\n                    textarea.addEventListener('input', function(e) {\r\n                        textarea.style.height = '5px';\r\n                        textarea.style.height = (textarea.scrollHeight + 2) + 'px';\r\n                    });\r\n                });\r\n            }\r\n            /**\r\n             * Star rating\r\n             */\r\n            var starsWrapper = this.wrapper.querySelector('[data-quasiform=\"stars\"]');\r\n            var field = this.wrapper.querySelector('input[name=\"stars\"]');\r\n            if (starsWrapper !== null && field !== null) {\r\n                var starSelector = '[data-value]';\r\n                var stars = starsWrapper.querySelectorAll('[data-value]');\r\n                var starClassActive = 'quasiform-star--active';\r\n                var value = parseInt(field.value);\r\n                starsWrapper.querySelector(starSelector + '[data-value]').classList.remove(starClassActive);\r\n                var i = 0;\r\n                for (i = 1; i <= value; i++) {\r\n                    starsWrapper.querySelector('[data-value=\"' + i + '\"]').classList.add(starClassActive);\r\n                }\r\n                [].forEach.call(stars, function(star, idx) {\r\n                    star.addEventListener('mouseover', function(e) {\r\n                        var value = parseInt(star.getAttribute('data-value'));\r\n                        var i = 0;\r\n                        let l = stars.length;\r\n                        for (i = 1; i <= l; i++) {\r\n                            if (i <= value) {\r\n                                starsWrapper.querySelector('[data-value=\"' + i + '\"]').classList.add(starClassActive);\r\n                            } else {\r\n                                starsWrapper.querySelector('[data-value=\"' + i + '\"]').classList.remove(starClassActive);\r\n                            }\r\n                        }\r\n                    });\r\n                    star.addEventListener('mousedown', function(e) {\r\n                        var value = parseInt(star.getAttribute('data-value'));\r\n                        var valueOld = field.value;\r\n                        if (value != valueOld) {\r\n                            field.value = value;\r\n                            if ('callbackOnStarsChange' in instance.options && typeof instance.options.callbackOnStarsChange == 'function') {\r\n                                instance.options.callbackOnStarsChange(instance.wrapper);\r\n                            }\r\n                        }\r\n                        return false;\r\n                    });\r\n                });\r\n                field.addEventListener('change', function(e) {\r\n                    var value = parseInt(field.value);\r\n                    starsWrapper.querySelector(starSelector + '[data-value]').classList.remove(starClassActive);\r\n                    var i = 0;\r\n                    for (i = 1; i <= value; i++) {\r\n                        starsWrapper.querySelector('[data-value=\"' + i + '\"]').classList.add(starClassActive);\r\n                    }\r\n                    if ('callbackOnStarsChange' in instance.options && typeof instance.options.callbackOnStarsChange == 'function') {\r\n                        instance.options.callbackOnStarsChange(instance.wrapper);\r\n                    }\r\n                });\r\n                starsWrapper.addEventListener('mouseout', function(e) {\r\n                    starsWrapper.querySelector('[data-value]').classList.remove(starClassActive);\r\n                    var l = starsWrapper.querySelectorAll('[data-value]').length;\r\n                    var value = parseInt(field.value);\r\n                    if (value > 0) {\r\n                        var i = 0;\r\n                        for (i = 1; i <= l; i++) {\r\n                            if (i <= value) {\r\n                                starsWrapper.querySelector('[data-value=\"' + i + '\"]').classList.add(starClassActive);\r\n                            } else {\r\n                                starsWrapper.querySelector('[data-value=\"' + i + '\"]').classList.remove(starClassActive);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            var spinners = this.form.querySelectorAll('[data-quasiform=\"spinner\"]');\r\n            if (spinners.length > 0) {\r\n                [].forEach.call(spinners, function(spinner, idx) {\r\n                    var decrease = spinner.querySelector('[data-quasiform=\"spinner__decrease\"]');\r\n                    decrease.addEventListener('mousedown', function(e) {\r\n                        var min = parseInt(spinner.getAttribute('data-min'));\r\n                        var max = parseInt(spinner.getAttribute('data-max'));\r\n                        var input = spinner.querySelector('input');\r\n                        var valueOld = parseInt(input.value);\r\n                        var step = parseInt(spinner.getAttribute('data-one'));\r\n                        var k = -1;\r\n                        var valueNew = valueOld + step * k;\r\n                        if (valueNew >= min) {\r\n                            input.value = valueNew;\r\n                        }\r\n                    });\r\n\r\n                    var increase = spinner.querySelector('[data-quasiform=\"spinner__increase\"]');\r\n                    increase.addEventListener('mousedown', function(e) {\r\n                        var min = parseInt(spinner.getAttribute('data-min'));\r\n                        var max = parseInt(spinner.getAttribute('data-max'));\r\n                        var input = spinner.querySelector('input');\r\n                        var valueOld = parseInt(input.value);\r\n                        var step = parseInt(spinner.getAttribute('data-one'));\r\n                        var k = 1;\r\n                        var valueNew = valueOld + step * k;\r\n                        if (valueNew <= max) {\r\n                            input.value = valueNew;\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            this.initCustomFileInput('[data-quasiform=\"input-file\"]');\r\n\r\n            this.form.addEventListener('submit', function(e) {\r\n                e.preventDefault();\r\n                var messagesWrapperSelector = '[data-quasiform=\"messages\"]';\r\n                var errorsWrapperSelector = '[data-quasiform=\"errors\"]';\r\n                var loaderSelector = '[data-quasiform=\"loader\"]';\r\n                instance.wrapper.querySelector(errorsWrapperSelector).style.display = 'none';\r\n                instance.wrapper.querySelector(messagesWrapperSelector).style.display = 'none';\r\n                var formData = new FormData(instance.form);\r\n                //var formData = $(form).serialize();\r\n                var formAction = instance.form.getAttribute('action');\r\n                var formMethod = instance.form.getAttribute('method');\r\n                instance.form.querySelector(submitSelector).setAttribute('disabled', 'disabled');\r\n                instance.wrapper.querySelector(loaderSelector).style.display = 'block';\r\n                instance.responseData = null;\r\n                // Функция, которую нужно исполнить перед запросом\r\n                if ('callbackBeforeSend' in instance.options && typeof instance.options.callbackBeforeSend == 'function') {\r\n                    instance.options.callbackBeforeSend(instance.wrapper);\r\n                }\r\n\r\n                var headers = {\r\n\r\n                };\r\n                fetch(formAction, {\r\n                        headers: headers,\r\n                        method: formMethod,\r\n                        body: formData\r\n                    })\r\n                    .then(response => {\r\n                        // Функция, которую нужно исполнить после завершения запроса\r\n                        if ('callbackOnComplete' in instance.options && typeof instance.options.callbackOnComplete == 'function') {\r\n                            instance.options.callbackOnComplete(instance.wrapper);\r\n                        }\r\n                        instance.wrapper.querySelector(loaderSelector).style.display = 'none';\r\n                        instance.form.querySelector(submitSelector).removeAttribute('disabled');\r\n                        switch (instance.options.format) {\r\n                            case 'json':\r\n                                return response.json();\r\n                                break;\r\n                            case 'html':\r\n                                return response.text();\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n                    })\r\n                    .then(function(data) {\r\n                        if (instance.options.format == 'json' && typeof data == 'object' && data !== null) {\r\n                            instance.wrapper.responseData = data;\r\n                            // Вывод сообщений об ошибках\r\n                            if ('errors' in data && Array.isArray(data.errors)) {\r\n                                let l = data.errors.length;\r\n                                if (l > 0) {\r\n                                    let errorsList = '';\r\n                                    for (i = 0; i < l; i++) {\r\n                                        if (data.errors[i].length > 0) {\r\n                                            errorsList += instance.options.errorOpenTag + data.errors[i] + instance.options.errorCloseTag;\r\n                                        }\r\n                                    }\r\n                                    errorsList = instance.options.errorsOpenTag + errorsList + instance.options.errorsCloseTag;\r\n                                    instance.wrapper.querySelector(errorsWrapperSelector).innerHTML = errorsList;\r\n                                    instance.wrapper.querySelector(errorsWrapperSelector).style.display = 'block';\r\n                                }\r\n                            }\r\n                            // Display info messages\r\n                            if ('messages' in data && Array.isArray(data.messages)) {\r\n                                if (data.messages.length > 0) {\r\n                                    let messagesList = '';\r\n                                    let l = data.messages.length;\r\n                                    for (i = 0; i < l; i++) {\r\n                                        if (data.messages[i].length > 0) {\r\n                                            messagesList += instance.options.messageOpenTag + data.messages[i] + instance.options.messageCloseTag;\r\n                                        }\r\n                                    }\r\n                                    messagesList = instance.options.messagesOpenTag + messagesList + instance.options.messagesCloseTag;\r\n                                    instance.wrapper.querySelector(messagesWrapperSelector).innerHTML = messagesList;\r\n                                    instance.wrapper.querySelector(messagesWrapperSelector).style.display = 'block';\r\n                                }\r\n                            }\r\n                            // Display errors in fields\r\n                            if ('field_errors' in data && typeof data.field_errors == 'object' && data.field_errors !== null) {\r\n                                let fieldName;\r\n                                for (fieldName in data.field_errors) {\r\n                                    let input = instance.wrapper.querySelector('input[name=\"' + fieldName + '\"]');\r\n                                    if (input !== null) {\r\n                                        input.classList.add(instance.options.hasErrorInputClass);\r\n                                    }\r\n                                    let textarea = instance.wrapper.querySelector('textarea[name=\"' + fieldName + '\"]');\r\n                                    if (textarea !== null) {\r\n                                        textarea.classList.add(instance.options.hasErrorInputClass);\r\n                                    }\r\n                                    let label = instance.wrapper.querySelector('label[for=\"' + fieldName + '\"]');\r\n                                    if (label !== null) {\r\n                                        label.classList.add(instance.options.hasErrorLabelClass);\r\n                                    }\r\n\r\n                                    if (data.field_errors[fieldName].length > 0) {\r\n                                        let fieldErrorsList = '';\r\n                                        let l = data.field_errors[fieldName].length;\r\n                                        for (i = 0; i < l; i++) {\r\n                                            fieldErrorsList += instance.options.fieldErrorOpenTag + data.field_errors[fieldName][i] + instance.options.fieldErrorCloseTag;\r\n                                        }\r\n                                        fieldErrorsList = instance.options.fieldErrorsOpenTag + fieldErrorsList + instance.options.fieldErrorsCloseTag;\r\n                                        let errorLabel = instance.wrapper.querySelector('[data-quasiform-field-errors=\"' + fieldName + '\"]');\r\n                                        if (typeof errorLabel === 'object' && errorLabel !== null) {\r\n                                            errorLabel.innerHTML = fieldErrorsList;\r\n                                            errorLabel.style.display = 'block';\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (instance.options.hideFormOnSuccess && 'success' in data && data.success) {\r\n                                instance.form.style.display = 'none';\r\n                            }\r\n                            if ('success' in data) {\r\n                                if (data.success) {\r\n                                    // Функция, которую нужно исполнить после успеха\r\n                                    if ('callbackOnSuccess' in instance.options && typeof instance.options.callbackOnSuccess == 'function') {\r\n                                        instance.options.callbackOnSuccess(instance.wrapper);\r\n                                    }\r\n                                } else {\r\n                                    // Функция, которую нужно исполнить после неуспешного запроса\r\n                                    if ('callbackOnFail' in instance.options && typeof instance.options.callbackOnFail == 'function') {\r\n                                        instance.options.callbackOnFail(instance.wrapper);\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                if (instance.options.debug) {\r\n                                    console.log('Ответ сервера не содержит поле success');\r\n                                }\r\n                            }\r\n                        } else if (instance.options.format == 'html' && typeof data == 'string') {\r\n                            var htmlView = instance.wrapper.querySelector('[data-quasiform=\"html\"]');\r\n                            if (typeof htmlView == 'object' && htmlView !== null) {\r\n                                htmlView.innerHTML = data;\r\n                                htmlView.style.display = 'block';\r\n                            }\r\n                        } else {\r\n                            if (instance.options.debug) {\r\n                                console.log('Ответ сервера имеет неверный формат: ' + typeof data);\r\n                            }\r\n                        }\r\n                    })\r\n                    .catch(err => console.error(err));\r\n            });\r\n        } else {\r\n            console.log('Form not found, wrapper id: ' + this.wrapper.id);\r\n        }\r\n    }\r\n\r\n    extendDefaults(source, properties) {\r\n        var property;\r\n        for (property in properties) {\r\n            if (properties.hasOwnProperty(property)) {\r\n                source[property] = properties[property];\r\n            }\r\n        }\r\n        return source;\r\n    }\r\n\r\n    initCustomFileInput(selector) {\r\n        if (this.options.debug) {\r\n            console.log('initCustomFileInput(' + selector + ')');\r\n        }\r\n        var inputWrapper = this.wrapper.querySelector(selector);\r\n        if (typeof inputWrapper == 'object' && inputWrapper !== null) {\r\n            var input = inputWrapper.querySelector('input');\r\n            var span = inputWrapper.querySelector('span');\r\n            input.style.display = 'none';\r\n            input.addEventListener('change', function(e) {\r\n                var fileName = '';\r\n                if (this.files && this.files.length > 1) {\r\n                    fileName = (this.getAttribute('data-multiple-caption') || '').replace('{count}', this.files.length);\r\n                } else {\r\n                    fileName = e.target.value.split('\\\\').pop();\r\n                }\r\n                if (fileName) {\r\n                    span.innerHTML = fileName;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/quasiform.js"],"sourceRoot":""}